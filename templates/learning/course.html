{% extends 'learning/base.html' %}
{% block content %}

{% if user.is_superuser %}
    <a href="{% url 'createlesson' %}"><span><button class="btn btn-primary">Create Lesson</button></span></a>
{% endif %}

<style>
    .navigation-container {
  width: 60%;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-evenly; 
  margin: auto;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
    }


    .numberCircle {
    width: 40px;
    line-height: 40px;
    border-radius: 50%;
    text-align: center;
    font-size: 32px;
    border: 2px solid #666;
}


</style>

<!--{{thislevels}}kkk
<br><br>
<br><br>
{{test2}}
<br><br>
<br><br>
{{arrayLevels}}
<br><br>
{{arrayLessonTitles}}
<br><br>
{{test}}

sssss
{{numMatches}}
<br>mysayin
{{sayin}}
<br>
<br>ddd<br>
{{sayin2}}
ssssss

<br><br>
mylistbaby
{{mylist}}
<br><br>
-->

<button id="ajaxtest">plzwork</button>
<a href="{% url 'addLanToProfile' lan %}">Add course to home page</a>


<div class="row text-center">
    <div class="col-12 col-md-8">
        {% for lesson in course_lessons %}

            {% if lesson.title == 'polish' %}
                <script>
                    //change navbar to red and white
                </script>
            {% endif %}

            {{lesson.numLevels}}
            


        <!--<p class="sayin"></p>-->

        <!--<div class="card rounded shadow border-0 small-margin">
            <div class="card-body">
                {{lesson.lessonTitle}}<br>
                <a href="{% url 'lesson' lan lesson.slug 1 %}">Level 1</a>
                <a href="{% url 'lesson' lan lesson.slug 2 %}">Level 2</a>
            </div>
        </div>-->
        <div>
            <i style="font-size: 50px;"class="far fa-comments third-theme"></i><br>
            <!--<h5 class="secondary-theme lessonTitle">{{lesson.lessonTitle}}</h5>-->
            <h5 class="secondary-theme lessonTitle"></h5>
            <h5 class="secondary-theme level-label">Level</h5>

            <!----><div class="navigation-container">
            <a class="first-level third-theme numberCircle" href="{% url 'lesson' lan lesson.slug 1 %}">1</a>
            <a class="second-level third-theme numberCircle" href="{% url 'lesson' lan lesson.slug 2 %}">2</a>
            <a class="third-level third-theme numberCircle"  href="{% url 'lesson' lan lesson.slug 3 %}">3</a>
            </div>  
            <!---->    
        </div>
    {% endfor %}
    </div>
    <!--<div class="col-12 col-md-4">
        <div class="card rounded">
            <div class="card-body third-theme-background">
                <a class="capitalize-first-letter" href="{% url 'guide' lan %}"><span><h1 class="secondary-theme card-title">{{lan}} Grammar Guide</h1></span></a>
                <hr class="center1">
                <div class="guide-title">
                    {% for p in thisCaseGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Cases</h3>
                        {% endif %}
                        <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                    {% for p in thisPronounGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Pronouns</h3>
                        {% endif %}
                        <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                    {% for p in thisVerbGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Verbs</h3>
                        {% endif %}
                        <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                    {% for p in thisAdjectiveGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Adjectives</h3>
                        {% endif %}
                        <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                    {% for p in thisAdverbGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Adverbs</h3>
                        {% endif %}
                        <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                    {% for p in thisOtherGuides %}
                        {% if p.orderingID == 1 %}
                            <h3 class="card-title">Other</h3>
                        {% endif %}
                            <a href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
                    {% endfor %}
                </div>

            </div>
        </div>
    </div>-->
    <div class="col-12 col-md-4 border border-white">
        <a class="capitalize-first-letter" href="{% url 'guide' lan %}"><span><h1 class="secondary-theme card-title">{{lan}} Grammar Guide</h1></span></a>
        <hr class="third-theme center1">
        <div class="guide-title">
            {% for p in thisCaseGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Cases</h3>
                {% endif %}
                <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
            {% for p in thisPronounGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Pronouns</h3>
                {% endif %}
                <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
            {% for p in thisVerbGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Verbs</h3>
                {% endif %}
                <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
            {% for p in thisAdjectiveGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Adjectives</h3>
                {% endif %}
                <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
            {% for p in thisAdverbGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Adverbs</h3>
                {% endif %}
                <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
            {% for p in thisOtherGuides %}
                {% if p.orderingID == 1 %}
                    <h3 class="card-title">Other</h3>
                {% endif %}
                    <a class="third-theme" href="{% url 'individualguide' p.course p.slug  %}">{{p.guideTitle}}</a><br>
            {% endfor %}
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
//    $(document).ready(function () {
        $('#ajaxtest').click(function () {
            $.ajax({
                data: $(this).serialize(),
                type: $(this).attr('method'),
                url: "{% url 'addLanToProfile' lan %}",
                success: function (response) {
                    alert("worked");
                },
                error: function (response) {
                    console.log("didnt work")
                }
            });
            return false;
        });
//    })
const listTitles = {{ listLessonTitles|safe }};
const lessonTitle = document.getElementsByClassName("lessonTitle");
for (let i = 0; i < lessonTitle.length; i++) {
  lessonTitle[i].innerHTML = listTitles[i].split('//')[1];//listTitles[i].substring(3);
}



var first = document.querySelectorAll(".first-level");
var second = document.querySelectorAll(".second-level");
var third = document.querySelectorAll(".third-level");
var levelLabel = document.querySelectorAll(".level-label");

var numLevels = {{ mylist|safe }};
//var nodeList = document.querySelectorAll(".sayin");


//for (i = 0; i < nodeList.length; i++){
for (i = 0; i < numLevels.length; i++){
    //nodeList[i].innerHTML = numLevels[i];
    
    if (numLevels[i] === 1){
        //second[i].style.pointerEvents = "none";
        //third[i].style.pointerEvents = "none";
        second[i].style.display = "none";
        third[i].style.display = "none";
    }
    else if (numLevels[i] === 2){
        //third[i].style.pointerEvents = "none";
        third[i].style.display = "none";
    }
    else if (numLevels[i] === 0){
        if (levelLabel[i]){
            levelLabel[i].style.display = "none";
            first[i].style.display = "none";
            second[i].style.display = "none";
            third[i].style.display = "none";
        }
        
    }
}

</script>




{% endblock %}
